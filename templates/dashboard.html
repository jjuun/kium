<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-ki Trading Dashboard</title>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="stylesheet" href="/static/css/dashboard.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>A-ki Trading Dashboard</h1>
            <div class="status-indicator">
                <span id="connection-status">연결 확인 중...</span>
                <div class="controls">
                    <button id="refresh-toggle" class="btn btn-primary">자동 새로고침 켜기</button>
                    <button id="manual-refresh" class="btn btn-secondary">갱신</button>
                    <span id="refresh-status">수동 새로고침</span>
                </div>
            </div>
        </header>

        <div class="dashboard-grid">
            <!-- 계좌 정보 -->
            <div class="card">
                <h3>계좌 정보</h3>
                <div id="balance-content" class="loading">로딩 중...</div>
                <div id="portfolio-content" class="loading"></div>
                <div id="holdings-content" class="loading"></div>
            </div>

            <!-- 주문 실행 -->
            <div class="card">
                <h3>주문 실행</h3>
                <form id="order-form">
                    <div class="form-group">
                        <label for="order-symbol">종목코드:</label>
                        <input type="text" id="order-symbol" placeholder="종목코드" required>
                    </div>
                    <div class="form-group">
                        <label for="order-action">매매구분:</label>
                        <select id="order-action" required>
                            <option value="buy">매수</option>
                            <option value="sell">매도</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="order-quantity">수량:</label>
                        <input type="number" id="order-quantity" placeholder="수량" value="1" required>
                    </div>
                    <div class="form-group">
                        <label for="order-price">가격:</label>
                        <input type="number" id="order-price" placeholder="가격" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="order-price-type">호가구분:</label>
                        <select id="order-price-type" required>
                            <option value="00">지정가</option>
                            <option value="03">시장가</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">주문 실행</button>
                </form>
            </div>

            <!-- 미체결 주문 -->
            <div class="card">
                <h3>미체결 주문</h3>
                <div id="pending-orders-content" class="loading">로딩 중...</div>
            </div>

            <!-- 체결잔고 -->
            <div class="card">
                <h3>체결잔고</h3>
                <div class="input-group">
                    <select id="execution-balance-exchange">
                        <option value="KRX" selected>한국거래소</option>
                        <option value="NXT">넥스트트레이드</option>
                    </select>
                    <button onclick="refreshExecutionBalance()" class="btn btn-secondary">조회</button>
                </div>
                <div id="execution-balance-content" class="loading">로딩 중...</div>
            </div>
        </div>
    </div>

    <script src="/static/js/dashboard.js"></script>
</body>

</html>